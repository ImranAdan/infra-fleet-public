# Prometheus Configuration for Local Development
#
# Purpose: Tells Prometheus WHERE to collect metrics from and HOW OFTEN
#
# This file configures Prometheus to:
# 1. Scrape (collect) metrics from the Flask app every 15 seconds
# 2. Access the Load Harness /metrics endpoint at http://load-harness:8080/metrics
# 3. Store these metrics in Prometheus's time-series database
#
# The Flask app exposes metrics via prometheus-flask-exporter library, which
# automatically tracks HTTP requests, response times, and status codes.
#
# Prometheus uses this data to:
# - Build time-series graphs
# - Power Grafana dashboards
# - Enable PromQL queries for analysis
#
# Mount location: This file is mounted into the Prometheus container at
# /etc/prometheus/prometheus.yml (see docker-compose.yml)

global:
  scrape_interval: 15s  # How often to collect metrics from targets

scrape_configs:
  - job_name: 'load-harness'  # Name for this group of metrics
    static_configs:
      - targets: ['load-harness:8080']  # Where to scrape (Docker service name:port)
    # Prometheus will automatically append /metrics to the target URL
