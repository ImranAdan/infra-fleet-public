{# Active jobs partial - kept for backwards compatibility #}
{# The dashboard now uses client-side job tracking instead of polling this endpoint #}
{% if jobs and active_jobs_count > 0 %}
<div class="space-y-3">
    {% for job in jobs %}
    {% if job.status == 'running' %}
    <div class="p-3 bg-blue-50 border border-blue-200 rounded-lg">
        <div class="flex items-center justify-between">
            <div class="flex items-center gap-2">
                <span class="relative flex h-3 w-3">
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-3 w-3 bg-blue-500"></span>
                </span>
                <span class="text-sm font-medium text-blue-800">Running</span>
            </div>
            <span class="text-xs text-blue-600 font-mono">{{ job.job_id[-12:] }}</span>
        </div>
        <div class="mt-2 grid grid-cols-2 gap-2 text-xs text-blue-700">
            <div>
                <span class="text-blue-500">Cores:</span>
                <span class="font-medium">{{ job.cores_active }}/{{ job.cores_requested }}</span>
            </div>
            <div>
                <span class="text-blue-500">Duration:</span>
                <span class="font-medium">{{ job.duration_seconds }}s</span>
            </div>
            <div>
                <span class="text-blue-500">Intensity:</span>
                <span class="font-medium">{{ job.intensity }}/10</span>
            </div>
            <div>
                <span class="text-blue-500">Started:</span>
                <span class="font-medium">{{ job.started_at[11:19] if job.started_at else '--' }}</span>
            </div>
        </div>
    </div>
    {% elif job.status == 'completed' %}
    <div class="p-3 bg-green-50 border border-green-200 rounded-lg">
        <div class="flex items-center justify-between">
            <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                </svg>
                <span class="text-sm font-medium text-green-800">Completed</span>
            </div>
            <span class="text-xs text-green-600 font-mono">{{ job.job_id[-12:] }}</span>
        </div>
        <div class="mt-1 text-xs text-green-600">
            {{ job.cores_requested }} core(s), {{ job.duration_seconds }}s
        </div>
    </div>
    {% elif job.status == 'stopped' %}
    <div class="p-3 bg-gray-50 border border-gray-200 rounded-lg">
        <div class="flex items-center justify-between">
            <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-gray-500" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z" clip-rule="evenodd" />
                </svg>
                <span class="text-sm font-medium text-gray-600">Stopped</span>
            </div>
            <span class="text-xs text-gray-500 font-mono">{{ job.job_id[-12:] }}</span>
        </div>
    </div>
    {% endif %}
    {% endfor %}
</div>
{% else %}
<div class="text-center py-4">
    <svg class="mx-auto h-12 w-12 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1"
              d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
    </svg>
    <p class="mt-2 text-sm text-gray-500">No active jobs</p>
    <p class="text-xs text-gray-400">Start a CPU load test to see jobs here</p>
</div>
{% endif %}
